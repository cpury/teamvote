<template name="listProjects">
  {{#unless currentUser}}
    {{> welcome}}
  {{/unless}}

  {{#if Template.subscriptionsReady}}
    {{> projectToolbar}}

    {{#if currentUser}}
      <h3>My projects</h3>
      {{#if myProjects.count}}
      <div class="project-list list-group">
        {{#with myProjects}}
          {{#each myProjects}}
            {{> project}}
          {{/each}}
        {{/with}}
      </div>
      {{else}}
        {{> noProjects}}
      {{/if}}
    {{/if}}

    {{#if publicProjects.count}}
      <h3>Public projects</h3>
      <div class="project-list list-group">
        {{#with publicProjects}}
          {{#each publicProjects}}
            {{> project}}
          {{/each}}
        {{/with}}
      </div>
    {{/if}}

    {{#if currentUser}}
      {{> newProjectModal}}
      {{> editProjectModal}}
    {{/if}}
  {{else}}
    <br />
    <h1 class="text-center">
      Loading projects...<br />
      <small>Just a second :)</small>
    </h1>
    {{> spinner}}
  {{/if}}
</template>

<template name="welcome">
  <div id="welcome" class="jumbotron">
    <h1>Welcome to TeamVote.</h1>
    <p>Collect and vote on ideas. Quick, simple and democratic.</p>
    <p>
      <a class="btn btn-info btn-lg" href="/how-it-works/" role="button">Learn how</a>
      <button style="margin-left: 2%;" class="btn btn-primary btn-lg toggle-signup" type="button">Sign up</button>
      <button style="margin-left: 2%;" class="btn btn-primary btn-lg toggle-login" type="button">Log in</button>
    </p>
  </div>
</template>

<template name="noProjects">
  <div class="text-center">
    <br />
    <br />
    <h1>No projects yet!</h1>
    <h4>Start a new project to get brainstorming!</h4>
    <br />
    <br />
  </div>
</template>
