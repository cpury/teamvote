<template name="listIdeas">
  {{#if Template.subscriptionsReady}}
    {{> projectHeading}}
    {{> ideaToolbar}}

    {{#if ideas.count}}
      <div class="panel-group idea-list" id="accordion">
        {{#with ideas}}
          {{#each ideas}}
            {{> idea}}
          {{/each}}
        {{/with}}
      </div>
    {{else}}
      {{> noIdeas}}
    {{/if}}

    {{#if currentUser}}
      {{> onlineUserList}}
      {{> editIdeaModal}}
    {{/if}}
  {{else}}
    <br />
    <h1 class="text-center">
      Loading ideas...<br />
      <small>Just a second :)</small>
    </h1>
    {{> spinner}}
  {{/if}}
</template>

<template name="projectHeading">
  {{#if project}}
    <div id="projectHeading" class="text-center panel panel-primary lead">
      <div class="panel-heading">
        <small><em>{{project.authorName}} asks:</em></small><br />
        <a data-toggle="collapse" href="#projectDescriptionCollapse">
          <h1 style="margin: 0">
            {{project.title}}
            <small class="pull-right">
              <i class="glyphicon glyphicon-chevron-down collapseArrow"></i>
            </small>
          </h1>
        </a>
      </div>
      <div class="collapse" id="projectDescriptionCollapse">
        <h3 style="margin: 0; padding: 10px">{{project.description}}</h3>
      </div>
    </div>
  {{/if}}
</template>

<template name="noIdeas">
  <div class="text-center">
    <br />
    <br />
    <h1>No ideas yet!</h1>
    {{#if currentUser}}
      <h4>Share your ideas to start brainstorming!</h4>
    {{else}}
      <h4>Log in to start brainstorming!</h4>
    {{/if}}
    <br />
    <br />
  </div>
</template>
